name = "airline-worker"
main = "src/index.js"
compatibility_date = "2024-11-22"
compatibility_flags = ["nodejs_compat"]

# Browser Rendering Binding
[browser]
binding = "MYBROWSER"

# D1 Database Binding (Sharing the existing DB)
[[d1_databases]]
binding = "DB"
database_name = "agent-db"
database_id = "e6946a3b-d7bc-4ec6-88be-d116c30746f4"

# Cron Triggers (Every 4 hours to avoid spamming/blocking)
[triggers]
crons = ["0 */4 * * *"]

# Environment Variables
[vars]
GEMINI_MODEL = "gemini-2.0-flash-lite-preview-02-05"
TELEGRAM_API_URL = "https://api.telegram.org/bot"
# TARGET_CHAT_ID will be set via secrets or hardcoded for now if user provides it, 
# but for now we'll assume the bot interaction sets it or we use the same one.

[observability]
enabled = true
